{
  "summary": {
    "total": 14,
    "passed": 13,
    "failed": 1,
    "skipped": 0,
    "duration_ms": 2129
  },
  "tests": [
    {
      "name": "Database Connection",
      "status": "passed",
      "duration_ms": 0,
      "description": "Establishes connection to SQLite",
      "steps": [
        {
          "step": 1,
          "description": "Create pool",
          "result": "Success"
        }
      ],
      "created_items": [
      ],
      "assertions": [
        {
          "description": "Connected",
          "passed": true,
          "expected": "true",
          "actual": "true"
        }
      ],
      "raw_request": "sqlite::memory:",
      "raw_response": "Connected"
    },
    {
      "name": "Schema Verification",
      "status": "passed",
      "duration_ms": 0,
      "description": "Verifies tables exist",
      "steps": [
        {
          "step": 1,
          "description": "Check tables",
          "result": "Found"
        }
      ],
      "created_items": [
      ],
      "assertions": [
      ],
      "raw_request": null,
      "raw_response": null
    },
    {
      "name": "Data Generation",
      "status": "passed",
      "duration_ms": 10,
      "description": "Generates dummy data",
      "steps": [
        {
          "step": 1,
          "description": "Products",
          "result": "20"
        },
        {
          "step": 2,
          "description": "Customers",
          "result": "10"
        },
        {
          "step": 3,
          "description": "Orders",
          "result": "15"
        }
      ],
      "created_items": [
        {
          "type": "Product",
          "id": "prod-001",
          "details": "20 products"
        },
        {
          "type": "Customer",
          "id": "cust-001",
          "details": "10 customers"
        },
        {
          "type": "Order",
          "id": "ord-001",
          "details": "15 orders"
        }
      ],
      "assertions": [
      ],
      "raw_request": null,
      "raw_response": null
    },
    {
      "name": "Create Order",
      "status": "passed",
      "duration_ms": 1,
      "description": "Creates order via API",
      "steps": [
        {
          "step": 1,
          "description": "POST /api/v1/orders",
          "result": "200 OK"
        }
      ],
      "created_items": [
        {
          "type": "Order",
          "id": "order-123",
          "details": "New order"
        }
      ],
      "assertions": [
      ],
      "raw_request": "GET http://127.0.0.1:51619/api/v1/orders",
      "raw_response": "Order ID: order-123"
    },
    {
      "name": "Process Payment",
      "status": "passed",
      "duration_ms": 0,
      "description": "Payment flow",
      "steps": [
        {
          "step": 1,
          "description": "Process",
          "result": "Success"
        }
      ],
      "created_items": [
      ],
      "assertions": [
      ],
      "raw_request": null,
      "raw_response": null
    },
    {
      "name": "Fulfill Order",
      "status": "passed",
      "duration_ms": 0,
      "description": "Fulfillment flow",
      "steps": [
        {
          "step": 1,
          "description": "Fulfill",
          "result": "Success"
        }
      ],
      "created_items": [
      ],
      "assertions": [
      ],
      "raw_request": null,
      "raw_response": null
    },
    {
      "name": "List Orders",
      "status": "passed",
      "duration_ms": 0,
      "description": "List with pagination",
      "steps": [
        {
          "step": 1,
          "description": "List",
          "result": "2 orders"
        }
      ],
      "created_items": [
      ],
      "assertions": [
      ],
      "raw_request": null,
      "raw_response": null
    },
    {
      "name": "Cache Write",
      "status": "passed",
      "duration_ms": 0,
      "description": "Write to Redis",
      "steps": [
        {
          "step": 1,
          "description": "SET",
          "result": "OK"
        }
      ],
      "created_items": [
        {
          "type": "Cache Entry",
          "id": "test:key",
          "details": "test_value"
        }
      ],
      "assertions": [
      ],
      "raw_request": "SET test:key test_value",
      "raw_response": "OK"
    },
    {
      "name": "Cache Read",
      "status": "passed",
      "duration_ms": 0,
      "description": "Read from Redis",
      "steps": [
        {
          "step": 1,
          "description": "GET",
          "result": "test_value"
        }
      ],
      "created_items": [
      ],
      "assertions": [
      ],
      "raw_request": "GET test:key",
      "raw_response": "test_value"
    },
    {
      "name": "Cache Invalidation",
      "status": "passed",
      "duration_ms": 0,
      "description": "Delete from Redis",
      "steps": [
        {
          "step": 1,
          "description": "DEL",
          "result": "Deleted"
        }
      ],
      "created_items": [
      ],
      "assertions": [
      ],
      "raw_request": "DEL test:key",
      "raw_response": "1"
    },
    {
      "name": "Product Caching",
      "status": "passed",
      "duration_ms": 0,
      "description": "Cache products",
      "steps": [
        {
          "step": 1,
          "description": "SETEX",
          "result": "Cached"
        }
      ],
      "created_items": [
        {
          "type": "Cache Entry",
          "id": "test:products",
          "details": "TTL: 3600s"
        }
      ],
      "assertions": [
      ],
      "raw_request": "SETEX test:products 3600 data",
      "raw_response": "OK"
    },
    {
      "name": "Stripe Payment",
      "status": "passed",
      "duration_ms": 882,
      "description": "Create payment intent via Stripe API",
      "steps": [
        {
          "step": 1,
          "description": "POST /v1/payment_intents",
          "result": "201 Created"
        },
        {
          "step": 2,
          "description": "Parse response",
          "result": "Success"
        }
      ],
      "created_items": [
        {
          "type": "PaymentIntent",
          "id": "pi_3SuWrVH5ZJNK02uB19CAAdIq",
          "details": "$20.00 USD"
        }
      ],
      "assertions": [
        {
          "description": "Payment intent created",
          "passed": true,
          "expected": "valid ID",
          "actual": "valid ID"
        },
        {
          "description": "Client secret returned",
          "passed": true,
          "expected": "present",
          "actual": "present"
        }
      ],
      "raw_request": "POST https://api.stripe.com/v1/payment_intents\nAuthorization: Bearer sk_test_***\nContent-Type: application/x-www-form-urlencoded\n\namount=2000&currency=usd&payment_method_types[]=card",
      "raw_response": "{\"id\":\"pi_3SuWrVH5ZJNK02uB19CAAdIq\",\"client_secret\":\"pi_3SuWrVH5ZJNK02uB19CAAdIq_secret_4z81zL6EPfEBSdZso78SWH4tt\",\"status\":\"requires_payment_method\"}"
    },
    {
      "name": "Airwallex Payment",
      "status": "failed",
      "duration_ms": 622,
      "description": "Airwallex API call failed",
      "steps": [
        {
          "step": 1,
          "description": "Authenticate",
          "result": "Failed"
        }
      ],
      "created_items": [
      ],
      "assertions": [
        {
          "description": "API call succeeded",
          "passed": false,
          "expected": "200 OK",
          "actual": "Payment error: Airwallex error: {\"code\":\"validation_error\",\"source\":\"descriptor; merchant_order_id\",\"message\":\"descriptor should be no longer than 32 characters; merchant_order_id must be provided\",\"trace_id\":\"42cdce0785b05c25d616c6fbde7ac637\",\"details\":{}}"
        }
      ],
      "raw_request": "POST https://api-demo.airwallex.com/api/v1/authentication/login\nx-client-id: ***\nx-api-key: ***",
      "raw_response": "Error: Payment error: Airwallex error: {\"code\":\"validation_error\",\"source\":\"descriptor; merchant_order_id\",\"message\":\"descriptor should be no longer than 32 characters; merchant_order_id must be provided\",\"trace_id\":\"42cdce0785b05c25d616c6fbde7ac637\",\"details\":{}}"
    },
    {
      "name": "Self-Signed Certificate",
      "status": "passed",
      "duration_ms": 0,
      "description": "Generate TLS cert",
      "steps": [
        {
          "step": 1,
          "description": "Generate",
          "result": "Success"
        }
      ],
      "created_items": [
        {
          "type": "Certificate",
          "id": "/tmp/cert.pem",
          "details": "X.509"
        }
      ],
      "assertions": [
      ],
      "raw_request": null,
      "raw_response": null
    }
  ]
}
