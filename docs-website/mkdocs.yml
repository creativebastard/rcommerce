# R Commerce Documentation Site Configuration
site_name: R Commerce
site_description: High-Performance Headless E-Commerce Platform in Rust
site_author: R Commerce Team
site_url: https://docs.rcommerce.app

# Repository
repo_name: creativebastard/rcommerce
repo_url: https://github.com/creativebastard/rcommerce
edit_uri: blob/main/docs/

# Copyright
copyright: Copyright &copy; 2026 R Commerce

# Theme Configuration - Material Theme
theme:
  name: material
  
  # Palette - Dark/Light mode toggle
  palette:
    # Palette toggle for light mode
    - media: "(prefers-color-scheme: light)"
      scheme: default
      primary: indigo
      accent: indigo
      toggle:
        icon: material/brightness-7
        name: Switch to dark mode
    # Palette toggle for dark mode
    - media: "(prefers-color-scheme: dark)"
      scheme: slate
      primary: indigo
      accent: indigo
      toggle:
        icon: material/brightness-4
        name: Switch to light mode
  
  # Font settings
  font:
    text: Roboto
    code: Roboto Mono
  
  # Features
  features:
    - navigation.tabs
    - navigation.sections
    - navigation.expand
    - navigation.top
    - navigation.tracking
    - search.suggest
    - search.highlight
    - search.share
    - content.tabs.link
    - content.code.annotation
    - content.code.copy
    - content.action.edit
    - content.action.view

# Plugins
plugins:
  - i18n:
      docs_structure: suffix
      fallback_to_default: true
      languages:
        - locale: en
          name: English
          default: true
          build: true
        - locale: zh
          name: 简体中文
          build: true
          nav_translations:
            Home: 首页
            Getting Started: 开始使用
            Quick Start: 快速开始
            Installation: 安装
            Configuration: 配置
            API Reference: API 参考
            Overview: 概览
            Authentication: 认证
            Error Codes: 错误代码
            Products: 产品
            Orders: 订单
            Customers: 客户
            Cart: 购物车
            Coupons: 优惠券
            Payments: 支付
            Webhooks: Webhooks
            GraphQL: GraphQL
            Payment Gateways: 支付网关
            AliPay: 支付宝
            WeChat Pay: 微信支付
            Deployment: 部署
            Docker: Docker
            Linux: Linux
            systemd: systemd
            Manual: 手动
            FreeBSD: FreeBSD
            Standalone: 独立部署
            Jails (iocage): Jails (iocage)
            rc.d: rc.d
            macOS: macOS
            launchd: launchd
            Kubernetes: Kubernetes
            Binary: 二进制
            Operations: 运维
            Reverse Proxies: 反向代理
            Caddy: Caddy
            Nginx: Nginx
            HAProxy: HAProxy
            Traefik: Traefik
            Scaling: 扩展
            Monitoring: 监控
            Backups: 备份
            Security: 安全
            Redis: Redis
            Architecture: 架构
            Data Model: 数据模型
            Database Abstraction: 数据库抽象
            Order Management: 订单管理
            Notifications: 通知
            Media Storage: 媒体存储
            Development: 开发
            Local Setup: 本地设置
            Contributing: 贡献
            Testing: 测试
            CLI Reference: CLI 参考
            Migration: 迁移
            Shopify: Shopify
            WooCommerce: WooCommerce
            Magento: Magento
            Medusa: Medusa
  - search:
      separator: '[\s\-]+'
      lang:
        - en
        - zh
  - redirects:
      redirect_maps:
        'getting-started/index.md': 'getting-started/quickstart.md'
        'api-reference/overview.md': 'api-reference/index.md'
        'deployment/index.md': 'deployment/docker.md'
        'operations/index.md': 'operations/reverse-proxies/nginx.md'
        'architecture/index.md': 'architecture/overview.md'
        'development/index.md': 'development/local-setup.md'
        'migration/index.md': 'migration/shopify.md'

# Extra CSS and JavaScript
extra_css:
  - stylesheets/extra.css

extra_javascript:
  - javascripts/extra.js

# Extensions
markdown_extensions:
  - abbr
  - admonition
  - attr_list
  - def_list
  - footnotes
  - md_in_html
  - tables
  - toc:
      permalink: true
      title: On this page
  - pymdownx.arithmatex:
      generic: true
  - pymdownx.betterem:
      smart_enable: all
  - pymdownx.caret
  - pymdownx.critic
  - pymdownx.details
  - pymdownx.emoji:
      emoji_index: !!python/name:material.extensions.emoji.twemoji
      emoji_generator: !!python/name:material.extensions.emoji.to_svg
  - pymdownx.highlight:
      anchor_linenums: true
      line_spans: __span
      pygments_lang_class: true
  - pymdownx.inlinehilite
  - pymdownx.keys
  - pymdownx.magiclink:
      repo_url_shorthand: true
      user: creativebastard
      repo: rcommerce
  - pymdownx.mark
  - pymdownx.smartsymbols
  - pymdownx.snippets:
      auto_append:
        - includes/abbreviations.md
  - pymdownx.superfences:
      custom_fences:
        - name: mermaid
          class: mermaid
          format: !!python/name:pymdownx.superfences.fence_code_format
  - pymdownx.tabbed:
      alternate_style: true
  - pymdownx.tasklist:
      custom_checkbox: true
  - pymdownx.tilde

# Extra settings
extra:
  social:
    - icon: fontawesome/brands/github
      link: https://github.com/creativebastard/rcommerce
  analytics:
    provider: google
    property: G-XXXXXXXXXX

# Exclude patterns
exclude_docs: |
  development/DEPLOYMENT_READY.md
  development/EMAIL_PREVIEW.md
  development/HTML_TEMPLATE_SUMMARY.md
  development/INVOICE_TEMPLATE_INTEGRATION.md
  includes/abbreviations.md

# Page tree
nav:
  - Home: index.md
  
  - Getting Started:
    - Quick Start: getting-started/quickstart.md
    - Installation: getting-started/installation.md
    - Configuration: getting-started/configuration.md
  
  - API Reference:
    - Overview: api-reference/index.md
    - Authentication: api-reference/authentication.md
    - Error Codes: api-reference/errors.md
    - Products: api-reference/products.md
    - Orders: api-reference/orders.md
    - Customers: api-reference/customers.md
    - Cart: api-reference/cart.md
    - Coupons: api-reference/coupons.md
    - Payments: api-reference/payments.md
    - Webhooks: api-reference/webhooks.md
    - GraphQL: api-reference/graphql.md
  
  - Payment Gateways:
    - Overview: payment-gateways/index.md
    - Stripe: payment-gateways/stripe.md
    - Airwallex: payment-gateways/airwallex.md
    - AliPay: payment-gateways/alipay.md
    - WeChat Pay: payment-gateways/wechatpay.md
    - Webhooks: payment-gateways/webhooks.md
  
  - Deployment:
    - Overview: deployment/index.md
    - Docker: deployment/docker.md
    - Linux:
      - systemd: deployment/linux/systemd.md
      - Manual: deployment/linux/manual.md
    - FreeBSD:
      - Standalone: deployment/freebsd/standalone.md
      - Jails (iocage): deployment/freebsd/jails.md
      - rc.d: deployment/freebsd/rc.d.md
    - macOS:
      - launchd: deployment/macos/launchd.md
    - Kubernetes: deployment/kubernetes.md
    - Binary: deployment/binary.md
  
  - Operations:
    - Overview: operations/index.md
    - Reverse Proxies:
      - Caddy: operations/reverse-proxies/caddy.md
      - Nginx: operations/reverse-proxies/nginx.md
      - HAProxy: operations/reverse-proxies/haproxy.md
      - Traefik: operations/reverse-proxies/traefik.md
    - Scaling: operations/scaling.md
    - Monitoring: operations/monitoring.md
    - Backups: operations/backups.md
    - Security: operations/security.md
    - Redis: operations/redis.md
  
  - Architecture:
    - Overview: architecture/overview.md
    - Data Model: architecture/data-model.md
    - Database Abstraction: architecture/database-abstraction.md
    - Order Management: architecture/order-management.md
    - Notifications: architecture/notifications.md
    - Media Storage: architecture/media-storage.md
  
  - Development:
    - Overview: development/index.md
    - Local Setup: development/local-setup.md
    - Contributing: development/contributing.md
    - Testing: development/testing.md
    - CLI Reference: development/cli-reference.md
  
  - Migration:
    - Overview: migration/index.md
    - Shopify: migration/shopify.md
    - WooCommerce: migration/woocommerce.md
    - Magento: migration/magento.md
    - Medusa: migration/medusa.md

# Validation
validation:
  omitted_files: warn
  absolute_links: warn
  unrecognized_links: warn
